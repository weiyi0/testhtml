import{_ as e,u as t}from"./useTable.52fe1745.js";import{_ as o}from"./useForm.616297c7.js";import{g as n}from"./system.22f776cc.js";import{P as a}from"./index.f14b58a7.js";import i from"./DeptTree.bc7b093f.js";import{u as s}from"./index.575951b6.js";import{_ as r,c as d,s as l}from"./AccountModal.e843db10.js";import{k as c}from"./index.a2c08dd2.js";import{y as m,L as p,Y as u,B as f,D as b,a0 as j,v as h,a7 as x}from"./vendor.4ec8a2fa.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useWindowSizeFn.9e83d2fc.js";import"./onMountedOrActivated.b1ecdabb.js";/* empty css              */import"./useSortable.bbbbf04d.js";/* empty css              *//* empty css              *//* empty css              */import"./index.380180aa.js";import"./download.c5584f85.js";import"./index.e6dd97d9.js";/* empty css              *//* empty css              */import"./useContentViewHeight.ff639e24.js";import"./Tree.vue_vue&type=style&index=0&lang.a54ad637.js";var g=m({name:"AccountManagement",components:{BasicTable:e,PageWrapper:a,DeptTree:i,AccountModal:r,TableAction:o},setup(){const e=c(),[o,{openModal:a}]=s(),i=p({}),[r,{reload:m,updateTableDataRecord:u}]=t({title:"账号列表",api:n,rowKey:"id",columns:d,formConfig:{labelWidth:120,schemas:l,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn:e=>e,actionColumn:{width:120,title:"操作",dataIndex:"action",slots:{customRender:"action"}}});return{registerTable:r,registerModal:o,handleCreate:function(){a(!0,{isUpdate:!1})},handleEdit:function(e){a(!0,{record:e,isUpdate:!0})},handleDelete:function(e){},handleSuccess:function({isUpdate:e,values:t}){if(e){u(t.id,t)}else m()},handleSelect:function(e=""){i.deptId=e,m()},handleView:function(t){e("/system/account_detail/"+t.id)},searchInfo:i}}});const S=x("新增账号");g.render=function(e,t,o,n,a,i){const s=u("DeptTree"),r=u("a-button"),d=u("TableAction"),l=u("BasicTable"),c=u("AccountModal"),m=u("PageWrapper");return f(),b(m,{dense:"",contentFullHeight:"",fixedHeight:"",contentClass:"flex"},{default:j((()=>[h(s,{class:"w-1/4 xl:w-1/5",onSelect:e.handleSelect},null,8,["onSelect"]),h(l,{onRegister:e.registerTable,class:"w-3/4 xl:w-4/5",searchInfo:e.searchInfo},{toolbar:j((()=>[h(r,{type:"primary",onClick:e.handleCreate},{default:j((()=>[S])),_:1},8,["onClick"])])),action:j((({record:t})=>[h(d,{actions:[{icon:"clarity:info-standard-line",tooltip:"查看用户详情",onClick:e.handleView.bind(null,t)},{icon:"clarity:note-edit-line",tooltip:"编辑用户资料",onClick:e.handleEdit.bind(null,t)},{icon:"ant-design:delete-outlined",color:"error",tooltip:"删除此账号",popConfirm:{title:"是否确认删除",confirm:e.handleDelete.bind(null,t)}}]},null,8,["actions"])])),_:1},8,["onRegister","searchInfo"]),h(c,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])),_:1})};export default g;
